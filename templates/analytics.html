{% extends "base.html" %}

{% block title %}Analytics{% endblock %}

{% block additional_styles %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/analytics.css') }}">
{% endblock %}

{% block content %}
<div class="analytics-container">
    <div class="container">
        <div class="row mb-4">
            <div class="col-12">
                <h2>Performance Analytics</h2>
            </div>
        </div>

        <!-- Summary Stats -->
        <div class="row g-4 mb-4">
            <div class="col-md-3">
                <div class="stats-card">
                    <h4>Average Accuracy</h4>
                    <div class="stat-value" id="averageAccuracy">--%</div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="stats-card">
                    <h4>Average Time</h4>
                    <div class="stat-value" id="averageTime">-- minutes</div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="stats-card">
                    <h4>Total Tests</h4>
                    <div class="stat-value" id="totalTests">--</div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="stats-card">
                    <h4>Best Category</h4>
                    <div class="stat-value" id="bestCategory">--</div>
                </div>
            </div>
        </div>

        <!-- Charts -->
        <div class="row g-4">
            <!-- Accuracy Trend -->
            <div class="col-md-6">
                <div class="chart-card">
                    <h3>Accuracy Trend</h3>
                    <div class="chart-container">
                        <canvas id="accuracyTrendChart"></canvas>
                    </div>
                </div>
            </div>

            <!-- Time Trend -->
            <div class="col-md-6">
                <div class="chart-card">
                    <h3>Time Trend</h3>
                    <div class="chart-container">
                        <canvas id="timeTrendChart"></canvas>
                    </div>
                </div>
            </div>

            <!-- Category Performance -->
            <div class="col-md-12">
                <div class="chart-card">
                    <h3>Category Performance</h3>
                    <div class="chart-container">
                        <canvas id="categoryChart"></canvas>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="{{ url_for('static', filename='js/analytics-init.js') }}"></script>
{% endblock %}
